#enables color in the terminal bash shell export
export CLICOLOR=1
#sets up the color scheme for list export
export LSCOLORS=gxfxcxdxbxegedabagacad
#sets up the prompt color (currently a green similar to linux terminal)
export PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;36m\]\w\[\033[00m\]\$ '
#enables lots of colors for iTerm
export TERM=screen-256color

# enable vi mode
# https://catonmat.net/bash-vi-editing-mode-cheat-sheet
# https://catonmat.net/ftp/bash-vi-editing-mode-cheat-sheet.pdf
set -o vi

# Use vim for all the things
export GEM_EDITOR='vim'
export VISUAL='mvim -f'
export EDITOR='vim -f'

# Aliases
alias ls='ls -GFh'
alias ll='ls -hl'
alias kill_puma="pkill -USR1 puma-dev"
alias tail_puma="tail -f ~/Library/Logs/puma-dev.log"


# The following requires
# brew install git bash-completion
[[ -r "/usr/local/etc/profile.d/bash_completion.sh" ]] && . "/usr/local/etc/profile.d/bash_completion.sh"

# Simple way to show git status in the prompt without needing the whole git-prompt.sh thing
Reset="\[\033[0m\]"
Red="\[\033[1;31m\]"
Green="\[\033[1;32m\]"
Blue="\[\033[1;34m\]"

gitPs1()
{
        branch="$(git symbolic-ref HEAD 2> /dev/null)";

        if [ -n "$branch" ]; then
                printf " (%s)" "${branch##refs/heads/}";
        fi
}

export PS1="$Green\u@\h$Reset:$Blue\w$Reset"'$(git branch > /dev/null 2>&1; \
if [ $? -eq 0 ]; then \
        echo "$(echo `git status` | grep "nothing to commit" > /dev/null 2>&1; \
        if [ $? -eq 0 ]; then \
                echo "'$Green'"; \
        else \
                echo "'$Red'"; \
        fi)$(gitPs1 " (%s)")'$Reset'"; \
fi)'"\$ "

# NVM stuff - Can we put this somewhere else? Doesn't seem like the kind of thing I want to version...
export NVM_DIR="$HOME/.nvm"
[ -s "/usr/local/opt/nvm/nvm.sh" ] && . "/usr/local/opt/nvm/nvm.sh"  # This loads nvm
[ -s "/usr/local/opt/nvm/etc/bash_completion" ] && . "/usr/local/opt/nvm/etc/bash_completion"  # This loads nvm bash_completion

